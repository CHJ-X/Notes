# 第二章 关系数据库

## 2.1 关系数据结构及形式化定义

### 关系的数学定义

__域(domain)__: 值的集合，它们具有相同的数据类型，语义上通常指某一对象的取值范围

__笛卡尔积(Cartesian Product)__: 就是不重复的随机组合形成的元组集合。

### 基本关系(二维表)的性质

* 列是同质的。即等列中的数据必须来自同一个域
* 每一列中分量必须取原子值，即表中不能有表
* 行的顺序无所谓
* 列的顺序无所谓
* 任意两个元组的候选码不能相同
* 不同的列也可以出自同一个域

### 关系模型: 关系的描述

表示为：

* 三类关系表
  * 基本关系表(基本表或基表)  
  实际存在的表，是实际存储数据的逻辑表示
  * 查询表  
  查询结果对应的表
  * 视图表  
  由基本表或其他视图表导出的表，是虚表，不对应实际存储的数据

## 2.2 关系操作、关系完整性、关系代数

### 关系基本操作

* 常用的关系操作
  * 查询：选择、投影、连接、除、并、交差
  * 数据更新：插入、删除、修改
  * 查询的表达能力是其中最基本的部分
  * 选择、投影、并、差、笛卡尔积是5种基本操作
* 关系操作的特点
  * 集合操作方式：操作的对象和结果都是集合，一次一集合的方式

### 关系数据库语言的分类

* 关系代数语言
  * 用对关系的运算来表达查询要求
* 关系演算语言
  * 用谓词来表达查询要求

### 关系的完整性

* 关系的三类完整性约束
  * 实体完整性(行)
  * 引用(参照)完整性(表间)
  * 域的完整性(列)

* 实体完整性
  * 若属性A是基本关系R的主属性，则主属性不能取空值
  * 简单的说就是主码不能为空

* 引用完整性
  * 简单的说就是外码约束，外码对应的值是另一个表的主码，也就是不能为空
  * __外码__(Foreign Key)

* 域的完整性
  * 简单的说就是用户规定的某一列的取值范围
